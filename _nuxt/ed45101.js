(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{166:function(e,t,n){"use strict";function r(e,input){this.message=e+"",this.input=input}n.d(t,"a",(function(){return r})),r.prototype=Object.create(Error.prototype),r.prototype.name="RuntimeError",r.prototype.constructor=r},167:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return w}));var r=n(168),o=n(166),l=n(174),c=n(175),d=n(178),f=n(173),h=n(172);const m="function"==typeof requestAnimationFrame?requestAnimationFrame:e;var v={},y={};function w(e=new r.b,t=k){var n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(var o in e)new h.d(h.b,n).define(o,[],e[o])}function _(e){const t=new Set(e._inputs);for(const i of t){if(i===e)return!0;i._inputs.forEach(t.add,t)}return!1}function x(e){++e._indegree}function E(e){--e._indegree}function C(e){return e._promise.catch(e._rejector)}function j(e){return new Promise((function(t){e._invalidate=t}))}function P(e,t){let n,r,o="function"==typeof IntersectionObserver&&t._observer&&t._observer._node,l=!o,c=f.a,d=f.a;return o&&(r=new IntersectionObserver((([e])=>(l=e.isIntersecting)&&(n=null,c()))),r.observe(o),e.then((()=>(r.disconnect(),r=null,d())))),function(e){return l?Promise.resolve(e):r?(n||(n=new Promise(((e,t)=>(c=e,d=t)))),n.then((()=>e))):Promise.reject()}}function S(e){e._invalidate(),e._invalidate=f.a,e._pending();var t=e._value,n=++e._version,r=null,o=e._promise=Promise.all(e._inputs.map(C)).then((function(o){if(e._version===n){for(var i=0,l=o.length;i<l;++i)switch(o[i]){case v:o[i]=r=j(e);break;case y:r||(r=j(e)),o[i]=P(r,e)}return e._definition.apply(t,o)}})).then((function(t){return Object(l.a)(t)?e._version!==n?void t.return():((r||j(e)).then((c=t,function(){c.return()})),function(e,t,n,r){function o(){var n=new Promise((function(e){e(r.next())})).then((function(r){return r.done?void 0:Promise.resolve(r.value).then((function(r){if(e._version===t)return N(e,r,n).then(o),e._fulfilled(r),r}))}));n.catch((function(r){e._version===t&&(N(e,void 0,n),e._rejected(r))}))}return new Promise((function(e){e(r.next())})).then((function(e){if(!e.done)return n.then(o),e.value}))}(e,n,o,t)):t;var c}));o.then((function(t){e._version===n&&(e._value=t,e._fulfilled(t))}),(function(t){e._version===n&&(e._value=void 0,e._rejected(t))}))}function N(e,t,n){var r=e._module._runtime;return e._value=t,e._promise=n,e._outputs.forEach(r._updates.add,r._updates),r._compute()}function A(e,t){e._invalidate(),e._invalidate=f.a,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(f.a),e._value=void 0,e._rejected(t)}function k(e){return window[e]}Object.defineProperties(w,{load:{value:c.a,writable:!0,configurable:!0}}),Object.defineProperties(w.prototype,{_compute:{value:function(){return this._computing||(this._computing=this._computeSoon())},writable:!0,configurable:!0},_computeSoon:{value:function(){var e=this;return new Promise((function(t){m((function(){t(),e._disposed||e._computeNow()}))}))},writable:!0,configurable:!0},_computeNow:{value:function(){var e,t,n=[];(e=new Set(this._dirty)).forEach((function(t){t._inputs.forEach(e.add,e);const n=function(e){if(e._observer!==h.e)return!0;var t=new Set(e._outputs);for(const output of t){if(output._observer!==h.e)return!0;output._outputs.forEach(t.add,t)}return!1}(t);n>t._reachable?this._updates.add(t):n<t._reachable&&t._invalidate(),t._reachable=n}),this),(e=new Set(this._updates)).forEach((function(t){t._reachable?(t._indegree=0,t._outputs.forEach(e.add,e)):(t._indegree=NaN,e.delete(t))})),this._computing=null,this._updates.clear(),this._dirty.clear(),e.forEach((function(e){e._outputs.forEach(x)}));do{for(e.forEach((function(e){0===e._indegree&&n.push(e)}));t=n.pop();)S(t),t._outputs.forEach(r),e.delete(t);e.forEach((function(t){_(t)&&(A(t,new o.a("circular definition")),t._outputs.forEach(E),e.delete(t))}))}while(e.size);function r(e){0==--e._indegree&&n.push(e)}},writable:!0,configurable:!0},dispose:{value:function(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach((e=>{e._invalidate(),e._version=NaN}))},writable:!0,configurable:!0},module:{value:function(e,t=f.a){let n;if(void 0===e)return(n=this._init)?(this._init=null,n):new d.a(this);if(n=this._modules.get(e),n)return n;this._init=n=new d.a(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n},writable:!0,configurable:!0},fileAttachments:{value:r.a,writable:!0,configurable:!0}})}).call(this,n(119).setImmediate)},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return Ce}));const r=new Map,o=[],map=o.map,l=o.some,c=o.hasOwnProperty,d="https://cdn.jsdelivr.net/npm/",f=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,h=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,m=/\.[^/]*$/,v=["unpkg","jsdelivr","browser","main"];class y extends Error{constructor(e){super(e)}}function w(e){const t=f.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function _(e){const t=`${d}${e.name}${e.version?`@${e.version}`:""}/package.json`;let meta=r.get(t);return meta||r.set(t,meta=fetch(t).then((e=>{if(!e.ok)throw new y("unable to load package.json");return e.redirected&&!r.has(e.url)&&r.set(e.url,meta),e.json()}))),meta}y.prototype.name=y.name;var x=E((async function(e,base){if(e.startsWith(d)&&(e=e.substring(d.length)),/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==base?location:base).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new y("illegal name");const t=w(e);if(!t)return`${d}${e}`;if(!t.version&&null!=base&&base.startsWith(d)){const meta=await _(w(base.substring(d.length)));t.version=meta.dependencies&&meta.dependencies[t.name]||meta.peerDependencies&&meta.peerDependencies[t.name]}if(t.path&&!m.test(t.path)&&(t.path+=".js"),t.path&&t.version&&h.test(t.version))return`${d}${t.name}@${t.version}/${t.path}`;const meta=await _(t);return`${d}${meta.name}@${meta.version}/${t.path||function(meta){for(const e of v){const t=meta[e];if("string"==typeof t)return m.test(t)?t:`${t}.js`}}(meta)||"index.js"}`}));function E(e){const t=new Map,n=l(null);function r(e){if("string"!=typeof e)return e;let n=t.get(e);return n||t.set(e,n=new Promise(((t,n)=>{const script=document.createElement("script");script.onload=()=>{try{t(o.pop()(l(e)))}catch(e){n(new y("invalid module"))}script.remove()},script.onerror=()=>{n(new y("unable to load module")),script.remove()},script.async=!0,script.src=e,window.define=S,document.head.appendChild(script)}))),n}function l(base){return t=>Promise.resolve(e(t,base)).then(r)}function c(e){return arguments.length>1?Promise.all(map.call(arguments,n)).then(C):n(e)}return c.alias=function(t){return E(((n,base)=>n in t&&(base=null,"string"!=typeof(n=t[n]))?n:e(n,base)))},c.resolve=e,c}function C(e){const t={};for(const n of e)for(const e in n)c.call(n,e)&&(null==n[e]?Object.defineProperty(t,e,{get:j(n,e)}):t[e]=n[e]);return t}function j(object,e){return()=>object[e]}function P(e){return"exports"===(e+="")||"module"===e}function S(e,t,n){const r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t="string"==typeof e?[]:e),o.push(l.call(t,P)?e=>{const r={},o={exports:r};return Promise.all(map.call(t,(t=>"exports"===(t+="")?r:"module"===t?o:e(t)))).then((e=>(n.apply(null,e),o.exports)))}:e=>Promise.all(map.call(t,e)).then((e=>"function"==typeof n?n.apply(null,e):n)))}function N(e,t,main){return{resolve:(path=main)=>`https://cdn.jsdelivr.net/npm/${e}@${t}/${path}`}}S.amd={};const A=N("d3","6.7.0","dist/d3.min.js"),k=N("d3-dsv","2.0.0","dist/d3-dsv.min.js"),M=N("@observablehq/inputs","0.8.0","dist/inputs.umd.min.js"),L=N("@observablehq/plot","0.1.0","dist/plot.umd.min.js"),O=N("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),$=N("@observablehq/highlight.js","2.0.0","highlight.min.js"),T=N("@observablehq/katex","0.11.1","dist/katex.min.js"),z=N("lodash","4.17.21","lodash.min.js"),I=N("htl","0.2.5","dist/htl.min.js"),D=N("marked","0.3.12","marked.min.js"),U=N("sql.js","1.5.0","dist/sql-wasm.js"),R=N("vega","5.20.2","build/vega.min.js"),F=N("vega-lite","5.1.0","build/vega-lite.min.js"),B=N("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),W=N("apache-arrow","4.0.1","Arrow.es2015.min.js");async function G(e){return(await e(U.resolve()))({locateFile:e=>U.resolve(`dist/${e}`)})}class H{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(source){const[e,t]=await Promise.all([G(x),Promise.resolve(source).then(X)]);return new H(new e.Database(t))}async query(e,t){return await async function(e,t,n){const[r]=await e.exec(t,n);if(!r)return[];const{columns:o,values:l}=r,c=l.map((e=>Object.fromEntries(e.map(((e,i)=>[o[i],e])))));return c.columns=o,c}(this._db,e,t)}async queryRow(e,t){return(await this.query(e,t))[0]||null}async explain(e,t){return Y("pre",{className:"observablehq--inspect"},[V((await this.query(`EXPLAIN QUERY PLAN ${e}`,t)).map((e=>e.detail)).join("\n"))])}async describe(object){const e=await(void 0===object?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[object]));if(!e.length)throw new Error("Not found");const{columns:t}=e;return Y("table",{value:e},[Y("thead",[Y("tr",t.map((e=>Y("th",[V(e)]))))]),Y("tbody",e.map((e=>Y("tr",t.map((t=>Y("td",[V(e[t])])))))))])}}function X(source){return"string"==typeof source?fetch(source).then(X):source instanceof Response||source instanceof Blob?source.arrayBuffer().then(X):source instanceof ArrayBuffer?new Uint8Array(source):source}function Y(e,t,n){2===arguments.length&&(n=t,t=void 0);const element=document.createElement(e);if(void 0!==t)for(const p in t)element[p]=t[p];if(void 0!==n)for(const e of n)element.appendChild(e);return element}function V(e){return document.createTextNode(e)}async function K(e){return await e("jszip@3.6.0/dist/jszip.min.js")}async function J(e){const t=await fetch(await e.url());if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}async function Z(e,t,{array:n=!1,typed:r=!1}={}){const[text,o]=await Promise.all([e.text(),x(k.resolve())]);return("\t"===t?n?o.tsvParseRows:o.tsvParse:n?o.csvParseRows:o.csvParse)(text,r&&o.autoType)}class Q{constructor(e){Object.defineProperty(this,"name",{value:e,enumerable:!0})}async blob(){return(await J(this)).blob()}async arrayBuffer(){return(await J(this)).arrayBuffer()}async text(){return(await J(this)).text()}async json(){return(await J(this)).json()}async stream(){return(await J(this)).body}async csv(e){return Z(this,",",e)}async tsv(e){return Z(this,"\t",e)}async image(){const e=await this.url();return new Promise(((t,n)=>{const i=new Image;new URL(e,document.baseURI).origin!==new URL(location).origin&&(i.crossOrigin="anonymous"),i.onload=()=>t(i),i.onerror=()=>n(new Error(`Unable to load file: ${this.name}`)),i.src=e}))}async arrow(){const[e,t]=await Promise.all([x(W.resolve()),J(this)]);return e.Table.from(t)}async sqlite(){return H.open(J(this))}async zip(){const[e,t]=await Promise.all([K(x),this.arrayBuffer()]);return new re(await e.loadAsync(t))}}class ee extends Q{constructor(e,t){super(t),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function te(e){throw new Error(`File not found: ${e}`)}function ne(e){return Object.assign((t=>{const n=e(t+="");if(null==n)throw new Error(`File not found: ${t}`);return new ee(n,t)}),{prototype:ee.prototype})}class re{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter((t=>!e.files[t].dir))}file(path){const object=this._.file(path+="");if(!object||object.dir)throw new Error(`file not found: ${path}`);return new ie(object)}}class ie extends Q{constructor(object){super(object.name),Object.defineProperty(this,"_",{value:object}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}var oe={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ae=0;function se(e){this.id=e,this.href=new URL(`#${e}`,location)+""}se.prototype.toString=function(){return"url("+this.href+")"};var le={canvas:function(e,t){var canvas=document.createElement("canvas");return canvas.width=e,canvas.height=t,canvas},context2d:function(e,t,n){null==n&&(n=devicePixelRatio);var canvas=document.createElement("canvas");canvas.width=e*n,canvas.height=t*n,canvas.style.width=e+"px";var r=canvas.getContext("2d");return r.scale(n,n),r},download:function(e,t="untitled",label="Save"){const a=document.createElement("a"),b=a.appendChild(document.createElement("button"));async function n(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(a.href),a.removeAttribute("href"),b.textContent=label,b.disabled=!1}return b.textContent=label,a.download=t,a.onclick=async t=>{if(b.disabled=!0,a.href)return n();b.textContent="Saving…";try{const object=await("function"==typeof e?e():e);b.textContent="Download",a.href=URL.createObjectURL(object)}catch(e){b.textContent=label}if(t.eventPhase)return n();b.disabled=!1},a},element:function(e,t){var n,r=e+="",i=r.indexOf(":");i>=0&&"xmlns"!==(r=e.slice(0,i))&&(e=e.slice(i+1));var element=oe.hasOwnProperty(r)?document.createElementNS(oe[r],e):document.createElement(e);if(t)for(var o in t)i=(r=o).indexOf(":"),n=t[o],i>=0&&"xmlns"!==(r=o.slice(0,i))&&(o=o.slice(i+1)),oe.hasOwnProperty(r)?element.setAttributeNS(oe[r],o,n):element.setAttribute(o,n);return element},input:function(e){var input=document.createElement("input");return null!=e&&(input.type=e),input},range:function(e,t,n){1===arguments.length&&(t=e,e=null);var input=document.createElement("input");return input.min=e=null==e?0:+e,input.max=t=null==t?1:+t,input.step=null==n?"any":n=+n,input.type="range",input},select:function(e){var select=document.createElement("select");return Array.prototype.forEach.call(e,(function(e){var option=document.createElement("option");option.value=option.textContent=e,select.appendChild(option)})),select},svg:function(e,t){var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");return svg.setAttribute("viewBox",[0,0,e,t]),svg.setAttribute("width",e),svg.setAttribute("height",t),svg},text:function(e){return document.createTextNode(e)},uid:function(e){return new se("O-"+(null==e?"":e+"-")+ ++ae)}},ce={buffer:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))},text:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e)}))},url:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}};function ue(){return this}function de(e,t){let n=!1;if("function"!=typeof t)throw new Error("dispose is not a function");return{[Symbol.iterator]:ue,next:()=>n?{done:!0}:(n=!0,{done:!1,value:e}),return:()=>(n=!0,t(e),{done:!0}),throw:()=>({done:n=!0})}}var fe=function(e){let t,n,r=!1;const o=e((function(e){n?(n(e),n=null):r=!0;return t=e}));if(null!=o&&"function"!=typeof o)throw new Error("function"==typeof o.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:ue,throw:()=>({done:!0}),return:()=>(null!=o&&o(),{done:!0}),next:function(){return{done:!1,value:r?(r=!1,Promise.resolve(t)):new Promise((e=>n=e))}}}};function pe(input){switch(input.type){case"range":case"number":return input.valueAsNumber;case"date":return input.valueAsDate;case"checkbox":return input.checked;case"file":return input.multiple?input.files:input.files[0];case"select-multiple":return Array.from(input.selectedOptions,(e=>e.value));default:return input.value}}var he={disposable:de,filter:function*(e,t){for(var n,r=-1;!(n=e.next()).done;)t(n.value,++r)&&(yield n.value)},input:function(input){return fe((function(e){var t=function(input){switch(input.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(input),n=pe(input);function r(){e(pe(input))}return input.addEventListener(t,r),void 0!==n&&e(n),function(){input.removeEventListener(t,r)}}))},map:function*(e,t){for(var n,r=-1;!(n=e.next()).done;)yield t(n.value,++r)},observe:fe,queue:function(e){let t;const n=[],r=e((function(e){n.push(e),t&&(t(n.shift()),t=null);return e}));if(null!=r&&"function"!=typeof r)throw new Error("function"==typeof r.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:ue,throw:()=>({done:!0}),return:()=>(null!=r&&r(),{done:!0}),next:function(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise((e=>t=e))}}}},range:function*(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n));++i<r;)yield e+i*n},valueAt:function(e,i){if(!(!isFinite(i=+i)||i<0||i!=i|0))for(var t,n=-1;!(t=e.next()).done;)if(++n===i)return t.value},worker:function(source){const e=URL.createObjectURL(new Blob([source],{type:"text/javascript"})),t=new Worker(e);return de(t,(()=>{t.terminate(),URL.revokeObjectURL(e)}))}};function template(e,t){return function(n){var r,o,l,c,i,d,f,h,m=n[0],v=[],y=null,w=-1;for(i=1,d=arguments.length;i<d;++i){if((r=arguments[i])instanceof Node)v[++w]=r,m+="\x3c!--o:"+w+"--\x3e";else if(Array.isArray(r)){for(f=0,h=r.length;f<h;++f)(o=r[f])instanceof Node?(null===y&&(v[++w]=y=document.createDocumentFragment(),m+="\x3c!--o:"+w+"--\x3e"),y.appendChild(o)):(y=null,m+=o);y=null}else m+=r;m+=n[i]}if(y=e(m),++w>0){for(l=new Array(w),c=document.createTreeWalker(y,NodeFilter.SHOW_COMMENT,null,!1);c.nextNode();)o=c.currentNode,/^o:/.test(o.nodeValue)&&(l[+o.nodeValue.slice(2)]=o);for(i=0;i<w;++i)(o=l[i])&&o.parentNode.replaceChild(v[i],o)}return 1===y.childNodes.length?y.removeChild(y.firstChild):11===y.nodeType?((o=t()).appendChild(y),o):y}}var html=template((function(e){var template=document.createElement("template");return template.innerHTML=e.trim(),document.importNode(template.content,!0)}),(function(){return document.createElement("span")}));function me(e){let t;Object.defineProperties(this,{generator:{value:fe((e=>{t=e}))},value:{get:()=>e,set:n=>t(e=n)}}),void 0!==e&&t(e)}var ve=function*(){for(;;)yield Date.now()},be=new Map;function ye(time,e){var t;return(t=be.get(time=+time))?t.then((()=>e)):(t=Date.now())>=time?Promise.resolve(e):function(e,time){var t=new Promise((function(t){be.delete(time);var n=time-e;if(!(n>0))throw new Error("invalid time");if(n>2147483647)throw new Error("too long to wait");setTimeout(t,n)}));return be.set(time,t),t}(t,time).then((()=>e))}var we={delay:function(e,t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))},tick:function(e,t){return ye(Math.ceil((Date.now()+1)/e)*e,t)},when:ye};function ge(e,base){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==base?location:base).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}var _e=template((function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t}),(function(){return document.createElementNS("http://www.w3.org/2000/svg","g")})),xe=String.raw;var Ee=function(){return fe((function(e){var t=e(document.body.clientWidth);function n(){var n=document.body.clientWidth;n!==t&&e(t=n)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}))},Ce=Object.assign((function(e){const t=null==(n=e)?x:E(n);var n,r;Object.defineProperties(this,(r={FileAttachment:()=>te,Arrow:()=>t(W.resolve()),Inputs:()=>t(M.resolve()),Mutable:()=>me,Plot:()=>t(L.resolve()),SQLite:()=>G(t),SQLiteDatabaseClient:()=>H,_:()=>t(z.resolve()),d3:()=>t(A.resolve()),dot:()=>t(O.resolve()),htl:()=>t(I.resolve()),html:()=>html,md:()=>function(e){return e(D.resolve()).then((function(t){return template((function(n){var r=document.createElement("div");r.innerHTML=t(n,{langPrefix:""}).trim();var code=r.querySelectorAll("pre code[class]");return code.length>0&&e($.resolve()).then((function(t){code.forEach((function(n){function r(){t.highlightBlock(n),n.parentNode.classList.add("observablehq--md-pre")}t.getLanguage(n.className)?r():e($.resolve("async-languages/index.js")).then((r=>{if(r.has(n.className))return e($.resolve("async-languages/"+r.get(n.className))).then((e=>{t.registerLanguage(n.className,e)}))})).then(r,r)}))})),r}),(function(){return document.createElement("div")}))}))}(t),now:ve,require:()=>t,resolve:()=>ge,svg:()=>_e,tex:()=>function(e){return Promise.all([e(T.resolve()),(t=T.resolve("dist/katex.min.css"),new Promise((function(e,n){var link=document.createElement("link");link.rel="stylesheet",link.href=t,link.onerror=n,link.onload=e,document.head.appendChild(link)})))]).then((function(e){var t=e[0],n=r();function r(e){return function(){var n=document.createElement("div");return t.render(xe.apply(String,arguments),n,e),n.removeChild(n.firstChild)}}return n.options=r,n.block=r({displayMode:!0}),n}));var t}(t),vl:()=>async function(e){const[t,n,r]=await Promise.all([R,F,B].map((t=>e(t.resolve()))));return r.register(t,n)}(t),width:Ee,DOM:le,Files:ce,Generators:he,Promises:we},Object.fromEntries(Object.entries(r).map(je))))}),{resolve:x.resolve});function je([e,t]){return[e,{value:t,writable:!0,enumerable:!0}]}},169:function(e,t,n){"use strict";n.d(t,"b",(function(){return map})),n.d(t,"a",(function(){return o}));var r=Array.prototype,map=r.map,o=r.forEach},170:function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},171:function(e,t,n){"use strict";t.a=function(e){return e}},172:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return y}));var r=n(169),o=n(170),l=n(166),c=n(171),d=n(173),f=1,h=2,m=3,v={};function y(e,t,n){var r;n||(n=v),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:x,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:d.a,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:n!==v,writable:!0},_rejector:{value:(r=this,function(e){if(e===x)throw new l.a(r._name+" is not defined",r._name);if(e instanceof Error&&e.message)throw new l.a(e.message,r._name);throw new l.a(r._name+" could not be resolved",r._name)})},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}function w(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function _(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function x(){throw x}function E(e){return function(){throw new l.a(e+" is defined more than once")}}function C(e,t,n){var r=this._module._scope,o=this._module._runtime;if(this._inputs.forEach(_,this),t.forEach(w,this),this._inputs=t,this._definition=n,this._value=void 0,n===d.a?o._variables.delete(this):o._variables.add(this),e!==this._name||r.get(e)!==this){var l,c;if(this._name)if(this._outputs.size)r.delete(this._name),(c=this._module._resolve(this._name))._outputs=this._outputs,this._outputs=new Set,c._outputs.forEach((function(output){output._inputs[output._inputs.indexOf(this)]=c}),this),c._outputs.forEach(o._updates.add,o._updates),o._dirty.add(c).add(this),r.set(this._name,c);else if((c=r.get(this._name))===this)r.delete(this._name);else{if(c._type!==m)throw new Error;c._duplicates.delete(this),this._duplicate=void 0,1===c._duplicates.size&&(c=c._duplicates.keys().next().value,l=r.get(this._name),c._outputs=l._outputs,l._outputs=new Set,c._outputs.forEach((function(output){output._inputs[output._inputs.indexOf(l)]=c})),c._definition=c._duplicate,c._duplicate=void 0,o._dirty.add(l).add(c),o._updates.add(c),r.set(this._name,c))}if(this._outputs.size)throw new Error;e&&((c=r.get(e))?c._type===m?(this._definition=E(e),this._duplicate=n,c._duplicates.add(this)):c._type===h?(this._outputs=c._outputs,c._outputs=new Set,this._outputs.forEach((function(output){output._inputs[output._inputs.indexOf(c)]=this}),this),o._dirty.add(c).add(this),r.set(e,this)):(c._duplicate=c._definition,this._duplicate=n,(l=new y(m,this._module))._name=e,l._definition=this._definition=c._definition=E(e),l._outputs=c._outputs,c._outputs=new Set,l._outputs.forEach((function(output){output._inputs[output._inputs.indexOf(c)]=l})),l._duplicates=new Set([this,c]),o._dirty.add(c).add(l),o._updates.add(c).add(l),r.set(e,l)):r.set(e,this)),this._name=e}return o._updates.add(this),o._compute(),this}Object.defineProperties(y.prototype,{_pending:{value:function(){this._observer.pending&&this._observer.pending()},writable:!0,configurable:!0},_fulfilled:{value:function(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)},writable:!0,configurable:!0},_rejected:{value:function(e){this._observer.rejected&&this._observer.rejected(e,this._name)},writable:!0,configurable:!0},define:{value:function(e,t,n){switch(arguments.length){case 1:n=e,e=t=null;break;case 2:n=t,"string"==typeof e?t=null:(t=e,e=null)}return C.call(this,null==e?null:e+"",null==t?[]:r.b.call(t,this._module._resolve,this._module),"function"==typeof n?n:Object(o.a)(n))},writable:!0,configurable:!0},delete:{value:function(){return C.call(this,null,[],d.a)},writable:!0,configurable:!0},import:{value:function(e,t,n){arguments.length<3&&(n=t,t=e);return C.call(this,t+"",[n._resolve(e+"")],c.a)},writable:!0,configurable:!0}})},173:function(e,t,n){"use strict";t.a=function(){}},174:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.next&&"function"==typeof e.return}n.d(t,"a",(function(){return r}))},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(168),o=n(167);function l(e,t,n){if("function"==typeof t&&(n=t,t=null),"function"!=typeof n)throw new Error("invalid observer");null==t&&(t=new r.b);const{modules:l,id:c}=e,map=new Map,d=new o.a(t),main=f(c);function f(e){let t=map.get(e);return t||map.set(e,t=d.module()),t}for(const e of l){const t=f(e.id);let i=0;for(const r of e.variables)r.from?t.import(r.remote,r.name,f(r.from)):t===main?t.variable(n(r,i,e.variables)).define(r.name,r.inputs,r.value):t.define(r.name,r.inputs,r.value),++i}return d}},176:function(e,t,n){"use strict";function r(e,t){const main=e.module();return main.variable(t()).define(["md"],(function(e){return e`# Youtube Demonetized Words Similarity Study`})),main.variable(t()).define(["md","html"],(function(e,html){return e`

Very recently I came across the conversation about [youtube demonetization words](https://www.google.com/search?q=Youtube+Demonetization+Words&source=lnms&tbm=nws). Some folks made a massive study on terms that might disable the monetization. If your video title contain any ${html`<span style="padding:2px;color:white;background-color:#54278f"><strong>purple<strong></span>`} terms, then youtube might not enable ads for your video. The ${html`<span style="padding:2px;color:black;background-color:#f2f0f7"><strong>light gray</strong></span>`} terms seems to be passing the automated filter. Some **\*** in the terms means that the result is inconsistent. A more detailed exaplanation on how/what they found is in this [video](https://www.youtube.com/watch?v=oFyHpBsvcK0) and the spreasheet with the data [here](https://docs.google.com/spreadsheets/d/1ozg1Cnm6SdtM4M5rATkANAi07xAzYWaKL7HKxyvoHzk/edit#gid=674179785)
While I know nothing more than what I've read on the articles, I've thought the dataset with ~16k terms could lead to an interesting visualization. 

Terms located close to one another are similar and further away dissimilar. The annotations labels are an example of clusters. Please explore more!

* Mouseover / tap on points to see the term
* Scroll to Zoom In/Out
* Click and drag to pan around after zoom
* Double click to reset

It's a responsive but better view on the desktop. 

warning: there are many inappropriate words in this dataset
`})),main.variable(t("chart")).define("chart",["html","renderSVGGl"],(function(html,e){return html`<span style="padding:2px;color:white;background-color:#54278f"><strong>Demonetized<strong></span><span style="padding:2px;color:black;background-color:#f2f0f799"><strong>Monetized</strong></span>${e()}`})),main.variable(t("viewof monete")).define("viewof monete",["Inputs"],(function(e){return e.toggle({label:"Filter Only Demonetized Words"})})),main.variable(t("monete")).define("monete",["Generators","viewof monete"],((e,t)=>e.input(t))),main.variable(t()).define(["md"],(function(e){return e` ## Methods 

### Similarity analysis 
* Python + Tensorflow + [magical USE (Universal Sentence Encoder)](https://tfhub.dev/google/universal-sentence-encoder-large/3) + [UMAP](https://umap-learn.readthedocs.io/en/latest/) for dimenson reduction  (I'll publish my notebook soon)
* Annotations with labels were manually positioned


### Data Visualization  
* d3.js + d3.delaunay + d3.annotation + Pixi.js (using webGL) 

`})),main.variable(t()).define(["md"],(function(e){return e`## Pixi.js elements `})),main.variable(t("pixiApp")).define("pixiApp",["PIXI","invalidation"],(function(e,t){const n=new e.Application({antialias:!0,transparent:!0,resolution:2});return t.then((()=>{n.destroy(!0,!0)})),n})),main.variable(t("resizePixiCanvas")).define("resizePixiCanvas",["pixiApp"],(function(e){return function(t,n){e.renderer.resize(t,n)}})),main.variable(t()).define(["width","resizePixiCanvas","height","md"],(function(e,t,n,r){return t(e,n),r`### pixijs canvas`})),main.variable(t("pointsContainer")).define("pointsContainer",["PIXI","filterData","invalidation"],(function(e,t,n){const r=new e.ParticleContainer(t.length,{scale:!0,position:!0,rotation:!0,uvs:!1,alpha:!0});return n.then((()=>r.destroy())),r})),main.variable(t()).define(["pixiApp","pointsContainer","md"],(function(e,t,n){for(;e.stage.children[0];)e.stage.removeChild(e.stage.children[0]);return e.stage.addChild(t),n`add points to stage`})),main.variable(t("pixiPoints")).define("pixiPoints",["width","PIXI","pointWidth","pixiApp","filterData","xScale","yScale","invalidation"],(function(e,t,n,r,o,l,c,d){const circle=new t.Graphics;circle.lineStyle(n/5,0),circle.beginFill(16777215,1),circle.drawCircle(0,0,n),circle.endFill();const f=r.renderer.generateTexture(circle);f.mipmap=!0;const h=o.map(((e,n)=>{const r=t.Sprite.from(f);return r.anchor.x=.5,r.anchor.y=.5,r.alpha=.5,r.x=l(e.x),r.y=c(e.y),r.selected=!1,r.orig_idx=n,r.money=e.Monetized,r}));return d.then((()=>{circle.destroy(),f.destroy(),h.forEach((e=>e.destroy()))})),h})),main.variable(t("addPoints")).define("addPoints",["pointsContainer","pixiPoints","md"],(function(e,t,n){for(;e.children[0];)e.removeChild(e.children[0]);return t.forEach((p=>e.addChild(p))),n`#### addPoints`})),main.variable(t()).define(["md"],(function(e){return e`### Constants`})),main.variable(t("pointWidth")).define("pointWidth",(function(){return 20})),main.variable(t("maxZoom")).define("maxZoom",(function(){return 500})),main.variable(t("height")).define("height",["width"],(function(e){return e})),main.variable(t("margin")).define("margin",(function(){return{top:50,right:50,bottom:50,left:50}})),main.variable(t("extent")).define("extent",["margin","width","height"],(function(e,t,n){return[[e.left,e.top],[t-e.right,n-e.top]]})),main.variable(t()).define(["md"],(function(e){return e`### d3 scales`})),main.variable(t("dotScale")).define("dotScale",["d3","maxZoom"],(function(e,t){return e.scaleLinear().range([.1,10]).domain([1,t])})),main.variable(t("xScale")).define("xScale",["d3","margin","width","data"],(function(e,t,n,data){return e.scaleLinear().range([t.left,n-t.right]).domain(e.extent(data,(e=>e.x)))})),main.variable(t("yScale")).define("yScale",["d3","margin","height","data"],(function(e,t,n,data){return e.scaleLinear().range([t.top,n-t.bottom]).domain([e.max(data,(e=>e.y)),e.min(data,(e=>e.y))])})),main.variable(t()).define(["md"],(function(e){return e`## Render function`})),main.variable(t("renderSVGGl")).define("renderSVGGl",["DOM","d3","width","height","pixiApp","xScale","yScale","filterData","maxZoom","extent","margin","pixiPoints","dotScale","updateAnnotations","pointsContainer","makeAnnotations"],(function(e,t,n,r,o,l,c,d,f,h,m,v,y,w,_,x){return function(){const div=e.element("div");div.style.position="relative";const svg=t.select(e.svg(n,r)),E=t.select(div).append("div").attr("class","tooltip").style("display","none");svg.style("position","relative"),svg.style("z-index","1000"),svg.style("display","block"),svg.style("width","100%"),o.view.style.position="absolute",o.view.style.width="100%",o.view.style.height="auto",div.appendChild(o.view),div.appendChild(svg.node()),document.body.appendChild(div);const C=l.copy(),j=c.copy();svg.append("circle").attr("class","debug-dot").attr("r","5px").attr("fill","blue").attr("opacity","0"),svg.append("circle").attr("class","error-dot").attr("r","5px").attr("fill","red").attr("opacity","0");const P=t.Delaunay.from(d.map((e=>[l(e.x)*f,c(e.y)*f])));P.voronoi(h.flat().map((e=>e*f)));let S=1;const N=g=>g.attr("transform",`translate(0, ${(m.top+r-m.bottom)/2})`).call(t.axisBottom(C)),A=g=>g.attr("transform",`translate(${(m.left+n-m.right)/2}, 0)`).call(t.axisLeft(j)),k=()=>{v.forEach(((e,i)=>{e.x=C(d[i].x),e.y=j(d[i].y),e.selected?(e.scale.x=1.5*y(S),e.scale.y=1.5*y(S),e.tint=d[i].Monetized?15921399:5515151,e.alpha=.4):(e.scale.x=y(S),e.scale.y=y(S),e.tint=d[i].color,e.alpha=d[i].Monetized?.6:1)}))};const M=t.zoom().scaleExtent([1,f]).translateExtent([[0,0],[n,r]]).extent(h).on("zoom",(function(e,t){S=e.transform.k,C.range([m.left,n-m.right].map((t=>e.transform.applyX(t)))),j.range([m.top,r-m.bottom].map((t=>e.transform.applyY(t)))),svg.selectAll(".x-axis").call(N),svg.selectAll(".y-axis").call(A),w(C,j,S),k()}));let L=!1;return svg.on("mousemove",((e,n)=>{L||(window.requestAnimationFrame((()=>{!function(e){const[n,r]=[e.layerX,e.layerY],[o,h]=[l(C.invert(n))*f,c(j.invert(r))*f];parseInt(E.style("width"));_.children.forEach((e=>{e.selected=!1}));const m=P.find(o,h),v=_.children.length-1;_.children[v].selected&&(_.children[v].selected=!1,E.style("display","none"));if(null!==m){E.style("display","block").attr("data-px",`${d[m].x}`).attr("data-py",d[m].y).style("left",`${C(d[m].x)}px`).style("top",`${j(d[m].y)}px`).html(`${d[m].Word}${d[m].Note}`),t.select(".debug-dot").attr("cx",C(d[m].x)).attr("cy",j(d[m].y)).attr("opacity","0.3");const e=_.children.findIndex((e=>e.orig_idx===m));_.children[e].selected=!0;const n=_.children[v];_.children[v]=_.children[e],_.children[e]=n,k()}else E.style("display","none")}(e),L=!1})),L=!0)})),svg.on("click",(e=>{const[n,r]=[t.event.layerX,t.event.layerY],[o,d]=[l.invert(n),c.invert(r)]})).call(M).call(M.scaleTo,1).on("dblclick.zoom",(e=>{svg.transition().duration(750).call(M.transform,t.zoomIdentity)})),svg.append("g").attr("class","annotation-group").style("font-size","1.2em").call(x),div}})),main.variable(t()).define(["md"],(function(e){return e`## Annotations`})),main.variable(t("xsAnnotation")).define("xsAnnotation",["d3","margin","data"],(function(e,t,data){return e.scaleLinear().range([t.left,954-t.right]).domain(e.extent(data,(e=>e.x)))})),main.variable(t("ysAnnotation")).define("ysAnnotation",["d3","margin","data"],(function(e,t,data){return e.scaleLinear().range([t.top,536.625-t.bottom]).domain([e.max(data,(e=>e.y)),e.min(data,(e=>e.y))])})),main.variable(t("makeAnnotations")).define("makeAnnotations",["width","monete","d3","margin","data","xsAnnotation","ysAnnotation"],(function(e,t,n,r,data,o,l){n.scaleLinear().range([r.left,954-r.right]).domain(n.extent(data,(e=>e.x))),n.scaleLinear().range([r.top,536.625-r.bottom]).domain([n.max(data,(e=>e.y)),n.min(data,(e=>e.y))]);const c=[{x:615,y:385.99999999999994,dx:-42,dy:67,subject:{radius:48.485281374238554},note:{title:"Profanity"}},{x:687,y:156,dx:57,dy:-52,subject:{radius:50},note:{title:"Country Terms"}},{x:738,y:334,dx:62,dy:52,subject:{radius:50},note:{title:"Sex Terms",align:"left"}},{x:415,y:92.00000000000006,dx:24,dy:-29,subject:{radius:20},note:{title:"Male Names"}},{x:270,y:63.99999999999994,dx:-42,dy:16,subject:{radius:20},note:{title:"Female Names"}},{x:781.9999999999999,y:245.00000000000003,dx:32,dy:-34,subject:{radius:20},note:{title:"Drugs"}},{x:871.7843307948311,y:273,dx:-49,dy:59,subject:{radius:32.82842712474619},note:{title:"Diseases",align:"left"}},{x:804,y:462,dx:-128,dy:30,subject:{radius:44.14213562373093},note:{title:"Insults",align:"left"}},{x:69,y:310,dx:-50,dy:66,subject:{radius:20},note:{title:"Money Terms",align:"left"}},{x:265,y:207,dx:-113,dy:-17,subject:{radius:28.485281374238575},note:{title:"Gaming",align:"left"}},{x:190,y:435.99999999999994,dx:29,dy:27,subject:{radius:20},note:{title:"Time Terms"}},{x:97,y:276,dx:-57,dy:-29,subject:{radius:20},note:{title:"Politics",align:"left"}}].map((function(e){return e.x=o.invert(e.x),e.y=l.invert(e.y),e.data={x0:e.x,y0:e.y,dx0:e.dx,dy0:e.dy,r0:window.innerWidth>500?e.subject.radius:e.subject.radius/2},e.type=n.annotationCalloutCircle,e.color="#636363",e}));return n.annotation().type(n.annotationLabel).annotations(c)})),main.variable(t("updateAnnotations")).define("updateAnnotations",["makeAnnotations"],(function(e){return function(t,n,r){e.annotations().forEach(((e,i)=>{e.x=t(e.data.x0),e.y=n(e.data.y0),e.dx=r*e.data.dx0,e.dy=r*e.data.dy0,e.subject.radius=r*e.data.r0})),e.update()}})),main.variable(t()).define(["md"],(function(e){return e`### Load Libraries `})),main.variable(t("filterData")).define("filterData",["monete","data"],(function(e,data){return!1!==e?data.filter((e=>0===e.Monetized)):data})),main.variable(t("data")).define("data",["d3"],(function(e){return fetch("https://gist.githubusercontent.com/radames/3471b27cbbb6f44fdc682a9743fb78b6/raw/7039d5ef6276838e2ebea378e37355eca183cf05/youtube-words-umap_embeds-50-hoods-cosine-10-repulsion-cluster.csv").then((e=>e.text())).then((text=>e.csvParse(text))).then((t=>{const n=e.scaleOrdinal().domain(e.extent(t,(e=>e.cluster))).range(e.schemeAccent);return t.map(((e,t)=>Object.assign(e,{id:t,x:+e.x,y:+e.y,Note:0!=+e.Note?e.Note:"",Monetized:+e.Monetized,color:+e.Monetized?15921399:5515151,clustercolor:parseInt(n(e.cluster).replace("#","0x").concat("00"))})))}))})),main.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@7","d3-svg-annotation@2")})),main.variable(t("PIXI")).define("PIXI",["require"],(function(e){return e("pixi.js@6/dist/browser/pixi.js").catch((()=>window.PIXI))})),main.variable(t("CSS")).define("CSS",["html"],(function(html){return html`<style>


.tooltip * {
 box-sizing: border-box;

}
.tooltip {
  position: absolute;
  padding: 10px;
  font: 15px sans-serif;
  background: rgb(255,255,255);
  pointer-events: none;
  display: flex;
  flex-grow: 2;
  z-index: 10000;
  color: #333333;
  border: 0.5px solid #333333;
  border-radius: 10px;
  box-shadow: 2px 2px 1px #333333
}
.tooltip-left{

}
.tooltip-right{

}
svg {
}

.annotation-note-title, text.title {
  font-weight: bold;
}
`})),main}n.d(t,"a",(function(){return r}))},177:function(e,t,n){"use strict";function r(e,t,n){n=n||{};var r=e.ownerDocument,o=r.defaultView.CustomEvent;"function"==typeof o?o=new o(t,{detail:n}):((o=r.createEvent("Event")).initEvent(t,!1,!1),o.detail=n),e.dispatchEvent(o)}function o(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function l(e){return e===(0|e)+""}function c(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}n.d(t,"a",(function(){return we})),n.d(t,"b",(function(){return ge.a}));const d=Symbol.prototype.toString;function f(symbol){return d.call(symbol)}const{getOwnPropertySymbols:h,prototype:{hasOwnProperty:m}}=Object,{toStringTag:v}=Symbol,y={},w=h;function _(object,e){return m.call(object,e)}function x(object){return object[v]||object.constructor&&object.constructor.name||"Object"}function E(object,e){try{const t=object[e];return t&&t.constructor,t}catch(e){return y}}const C=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function j(e){try{let t=C.filter((({symbol:symbol})=>!0===e[symbol]));if(!t.length)return;const n=t.find((s=>!s.modifier)),r="Map"===n.name&&t.find((s=>s.modifier&&s.prefix)),o=t.some((s=>s.arrayish)),l=t.some((s=>s.setish));return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:o&&!l,setish:l}}catch(e){return null}}const{getPrototypeOf:P,getOwnPropertyDescriptors:S}=Object,N=P({});function A(object,e,t,n){let l,d,f,h,m=o(object);object instanceof Map?object instanceof object.constructor?(l=`Map(${object.size})`,d=k):(l="Map()",d=z):object instanceof Set?object instanceof object.constructor?(l=`Set(${object.size})`,d=M):(l="Set()",d=z):m?(l=`${object.constructor.name}(${object.length})`,d=O):(h=j(object))?(l=`Immutable.${h.name}${"Record"===h.name?"":`(${object.size})`}`,m=h.arrayish,d=h.arrayish?$:h.setish?L:I):n?(l=x(object),d=T):(l=x(object),d=z);const span=document.createElement("span");span.className="observablehq--expanded",t&&span.appendChild(c(t));const a=span.appendChild(document.createElement("a"));a.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>",a.appendChild(document.createTextNode(`${l}${m?" [":" {"}`)),a.addEventListener("mouseup",(function(e){e.stopPropagation(),be(span,W(object,null,t,n))})),d=d(object);for(let i=0;!(f=d.next()).done&&i<20;++i)span.appendChild(f.value);if(!f.done){const a=span.appendChild(document.createElement("a"));a.className="observablehq--field",a.style.display="block",a.appendChild(document.createTextNode("  … more")),a.addEventListener("mouseup",(function(e){e.stopPropagation(),span.insertBefore(f.value,span.lastChild.previousSibling);for(let i=0;!(f=d.next()).done&&i<19;++i)span.insertBefore(f.value,span.lastChild.previousSibling);f.done&&span.removeChild(span.lastChild.previousSibling),r(span,"load")}))}return span.appendChild(document.createTextNode(m?"]":"}")),span}function*k(map){for(const[e,t]of map)yield R(e,t);yield*z(map)}function*M(e){for(const t of e)yield F(t);yield*z(e)}function*L(e){for(const t of e)yield F(t)}function*O(e){for(let i=0,t=e.length;i<t;++i)i in e&&(yield U(i,E(e,i),"observablehq--index"));for(const t in e)!l(t)&&_(e,t)&&(yield U(t,E(e,t),"observablehq--key"));for(const symbol of w(e))yield U(f(symbol),E(e,symbol),"observablehq--symbol")}function*$(e){let t=0;for(const n=e.size;t<n;++t)yield U(t,e.get(t),!0)}function*T(object){for(const e in S(object))yield U(e,E(object,e),"observablehq--key");for(const symbol of w(object))yield U(f(symbol),E(object,symbol),"observablehq--symbol");const e=P(object);e&&e!==N&&(yield D(e))}function*z(object){for(const e in object)_(object,e)&&(yield U(e,E(object,e),"observablehq--key"));for(const symbol of w(object))yield U(f(symbol),E(object,symbol),"observablehq--symbol");const e=P(object);e&&e!==N&&(yield D(e))}function*I(object){for(const[e,t]of object)yield U(e,t,"observablehq--key")}function D(e){const t=document.createElement("div"),span=t.appendChild(document.createElement("span"));return t.className="observablehq--field",span.className="observablehq--prototype-key",span.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(ve(e,void 0,void 0,void 0,!0)),t}function U(e,t,n){const r=document.createElement("div"),span=r.appendChild(document.createElement("span"));return r.className="observablehq--field",span.className=n,span.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(ve(t)),r}function R(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(ve(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(ve(t)),n}function F(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(ve(e)),t}function B(e){const t=window.getSelection();return"Range"===t.type&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function W(object,e,t,n){let r,l,d,f,h=o(object);if(object instanceof Map?object instanceof object.constructor?(r=`Map(${object.size})`,l=G):(r="Map()",l=K):object instanceof Set?object instanceof object.constructor?(r=`Set(${object.size})`,l=H):(r="Set()",l=K):h?(r=`${object.constructor.name}(${object.length})`,l=V):(f=j(object))?(r=`Immutable.${f.name}${"Record"===f.name?"":`(${object.size})`}`,h=f.arrayish,l=f.arrayish?Y:f.setish?X:J):(r=x(object),l=K),e){const span=document.createElement("span");return span.className="observablehq--shallow",t&&span.appendChild(c(t)),span.appendChild(document.createTextNode(r)),span.addEventListener("mouseup",(function(e){B(span)||(e.stopPropagation(),be(span,W(object)))})),span}const span=document.createElement("span");span.className="observablehq--collapsed",t&&span.appendChild(c(t));const a=span.appendChild(document.createElement("a"));a.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>",a.appendChild(document.createTextNode(`${r}${h?" [":" {"}`)),span.addEventListener("mouseup",(function(e){B(span)||(e.stopPropagation(),be(span,A(object,0,t,n)))}),!0),l=l(object);for(let i=0;!(d=l.next()).done&&i<20;++i)i>0&&span.appendChild(document.createTextNode(", ")),span.appendChild(d.value);return d.done||span.appendChild(document.createTextNode(", …")),span.appendChild(document.createTextNode(h?"]":"}")),span}function*G(map){for(const[e,t]of map)yield ee(e,t);yield*K(map)}function*H(e){for(const t of e)yield ve(t,!0);yield*K(e)}function*X(e){for(const t of e)yield ve(t,!0)}function*Y(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield Z(n-t-1)),yield ve(e.get(n),!0),t=n;n>t+1&&(yield Z(n-t-1))}function*V(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield Z(n-t-1)),yield ve(E(e,n),!0),t=n);n>t+1&&(yield Z(n-t-1));for(const t in e)!l(t)&&_(e,t)&&(yield Q(t,E(e,t),"observablehq--key"));for(const symbol of w(e))yield Q(f(symbol),E(e,symbol),"observablehq--symbol")}function*K(object){for(const e in object)_(object,e)&&(yield Q(e,E(object,e),"observablehq--key"));for(const symbol of w(object))yield Q(f(symbol),E(object,symbol),"observablehq--symbol")}function*J(object){for(const[e,t]of object)yield Q(e,t,"observablehq--key")}function Z(e){const span=document.createElement("span");return span.className="observablehq--empty",span.textContent=1===e?"empty":`empty × ${e}`,span}function Q(e,t,n){const r=document.createDocumentFragment(),span=r.appendChild(document.createElement("span"));return span.className=n,span.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(ve(t,!0)),r}function ee(e,t){const n=document.createDocumentFragment();return n.appendChild(ve(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(ve(t,!0)),n}function te(e,t){var s=e+"",n=s.length;return n<t?new Array(t-n+1).join(0)+s:s}function ne(e){return e<0?"-"+te(-e,6):e>9999?"+"+te(e,6):te(e,4)}var re=Error.prototype.toString;var ie=RegExp.prototype.toString;function oe(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,ae)}function ae(e){var code=e.charCodeAt(0);switch(code){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return code<16?"\\x0"+code.toString(16):code<32?"\\x"+code.toString(16):"\\"+e}function se(e,t){for(var n=0;t.exec(e);)++n;return n}var le=Function.prototype.toString,ce={prefix:"async ƒ"},ue={prefix:"async ƒ*"},de={prefix:"class"},fe={prefix:"ƒ"},pe={prefix:"ƒ*"};function he(e,t,n){var span=document.createElement("span");span.className="observablehq--function",n&&span.appendChild(c(n));var r=span.appendChild(document.createElement("span"));return r.className="observablehq--keyword",r.textContent=e.prefix,span.appendChild(document.createTextNode(t)),span}const{prototype:{toString:me}}=Object;function ve(e,t,n,r,o){let l=typeof e;switch(l){case"boolean":case"undefined":e+="";break;case"number":e=0===e&&1/e<0?"-0":e+"";break;case"bigint":e+="n";break;case"symbol":e=f(e);break;case"function":return function(e,t){var n,r,o=le.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=ce;break;case"AsyncGeneratorFunction":n=ue;break;case"GeneratorFunction":n=pe;break;default:n=/^class\b/.test(o)?de:fe}return n===de?he(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(o))?he(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))||(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?he(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):he(n,"(…)",t)}(e,r);case"string":return function(e,t,n,r){if(!1===t){if(se(e,/["\n]/g)<=se(e,/`|\${/g)){const span=document.createElement("span");r&&span.appendChild(c(r));const t=span.appendChild(document.createElement("span"));return t.className="observablehq--string",t.textContent=JSON.stringify(e),span}const o=e.split("\n");if(o.length>20&&!n){const div=document.createElement("div");r&&div.appendChild(c(r));const n=div.appendChild(document.createElement("span"));n.className="observablehq--string",n.textContent="`"+oe(o.slice(0,20).join("\n"));const l=div.appendChild(document.createElement("span")),d=o.length-20;return l.textContent=`Show ${d} truncated line${d>1?"s":""}`,l.className="observablehq--string-expand",l.addEventListener("mouseup",(function(n){n.stopPropagation(),be(div,ve(e,t,!0,r))})),div}const span=document.createElement("span");r&&span.appendChild(c(r));const l=span.appendChild(document.createElement("span"));return l.className="observablehq--string"+(n?" observablehq--expanded":""),l.textContent="`"+oe(e)+"`",span}const span=document.createElement("span");r&&span.appendChild(c(r));const o=span.appendChild(document.createElement("span"));return o.className="observablehq--string",o.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),span}(e,t,n,r);default:if(null===e){l=null,e="null";break}if(e instanceof Date){l="date",d=e,e=isNaN(d)?"Invalid Date":function(e){return 0===e.getUTCMilliseconds()&&0===e.getUTCSeconds()&&0===e.getUTCMinutes()&&0===e.getUTCHours()}(d)?ne(d.getUTCFullYear())+"-"+te(d.getUTCMonth()+1,2)+"-"+te(d.getUTCDate(),2):ne(d.getFullYear())+"-"+te(d.getMonth()+1,2)+"-"+te(d.getDate(),2)+"T"+te(d.getHours(),2)+":"+te(d.getMinutes(),2)+(d.getMilliseconds()?":"+te(d.getSeconds(),2)+"."+te(d.getMilliseconds(),3):d.getSeconds()?":"+te(d.getSeconds(),2):"");break}if(e===y){l="forbidden",e="[forbidden]";break}switch(me.call(e)){case"[object RegExp]":l="regexp",e=function(e){return ie.call(e)}(e);break;case"[object Error]":case"[object DOMException]":l="error",e=function(e){return e.stack||re.call(e)}(e);break;default:return(n?A:W)(e,t,r,o)}}var d;const span=document.createElement("span");r&&span.appendChild(c(r));const h=span.appendChild(document.createElement("span"));return h.className=`observablehq--${l}`,h.textContent=e,span}function be(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),r(t,"load")}const ye=/\s+\(\d+:\d+\)$/m;class we{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e,t){const{_node:n}=this;if((!(e instanceof Element||e instanceof Text)||e.parentNode&&e.parentNode!==n)&&(e=ve(e,!1,n.firstChild&&n.firstChild.classList&&n.firstChild.classList.contains("observablehq--expanded"),t)).classList.add("observablehq--inspect"),n.classList.remove("observablehq--running","observablehq--error"),n.firstChild!==e)if(n.firstChild){for(;n.lastChild!==n.firstChild;)n.removeChild(n.lastChild);n.replaceChild(e,n.firstChild)}else n.appendChild(e);r(n,"update")}rejected(e,t){const{_node:n}=this;for(n.classList.remove("observablehq--running"),n.classList.add("observablehq--error");n.lastChild;)n.removeChild(n.lastChild);var div=document.createElement("div");div.className="observablehq--inspect",t&&div.appendChild(c(t)),div.appendChild(document.createTextNode((e+"").replace(ye,""))),n.appendChild(div),r(n,"error",{error:e})}}we.into=function(e){if("string"==typeof e&&null==(e=document.querySelector(e)))throw new Error("container not found");return function(){return new we(e.appendChild(document.createElement("div")))}};n(168),n(166);var ge=n(167)},178:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(169),o=n(170),l=n(166),c=n(171),d=n(167),f=n(172);function h(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["invalidation",d.b],["visibility",d.c],...t])},_source:{value:null,writable:!0}})}function m(e){return e._name}Object.defineProperties(h.prototype,{_copy:{value:function(e,map){e._source=this,map.set(this,e);for(const[o,source]of this._scope){var t=e._scope.get(o);if(!t||t._type!==f.c)if(source._definition===c.a){var n=source._inputs[0],r=n._module;e.import(n._name,o,map.get(r)||(r._source?r._copy(new h(e._runtime,e._builtins),map):r))}else e.define(o,source._inputs.map(m),source._definition)}return e},writable:!0,configurable:!0},_resolve:{value:function(e){var t,n=this._scope.get(e);if(!n)if(n=new f.d(f.b,this),this._builtins.has(e))n.define(e,Object(o.a)(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))n.import(e,this._runtime._builtin);else{try{t=this._runtime._global(e)}catch(t){return n.define(e,(r=t,function(){throw r}))}void 0===t?this._scope.set(n._name=e,n):n.define(e,Object(o.a)(t))}var r;return n},writable:!0,configurable:!0},redefine:{value:function(e){var t=this._scope.get(e);if(!t)throw new l.a(e+" is not defined");if(t._type===f.a)throw new l.a(e+" is defined more than once");return t.define.apply(t,arguments)},writable:!0,configurable:!0},define:{value:function(){var e=new f.d(f.c,this);return e.define.apply(e,arguments)},writable:!0,configurable:!0},derive:{value:function(e,t){var n=new h(this._runtime,this._builtins);return n._source=this,r.a.call(e,(function(e){"object"!=typeof e&&(e={name:e+""}),null==e.alias&&(e.alias=e.name),n.import(e.name,e.alias,t)})),Promise.resolve().then((()=>{const e=new Set([this]);for(const t of e)for(const n of t._scope.values())if(n._definition===c.a){const t=n._inputs[0]._module,source=t._source||t;if(source===this)return void console.warn("circular module definition; ignoring");e.add(source)}this._copy(n,new Map)})),n},writable:!0,configurable:!0},import:{value:function(){var e=new f.d(f.c,this);return e.import.apply(e,arguments)},writable:!0,configurable:!0},value:{value:async function(e){var t=this._scope.get(e);if(!t)throw new l.a(e+" is not defined");t._observer===f.e&&(t._observer=!0,this._runtime._dirty.add(t));return await this._runtime._compute(),t._promise},writable:!0,configurable:!0},variable:{value:function(e){return new f.d(f.c,this,e)},writable:!0,configurable:!0},builtin:{value:function(e,t){this._builtins.set(e,t)},writable:!0,configurable:!0}})}}]);